# Extend the base Windows-native image
FROM africanfuture/windows-devbox-base:latest

# Install development tools
RUN choco install -y --no-progress --timeout 2700 \
    nodejs-lts \
    python \
    dotnet-sdk \
    openjdk \
    golang \
    rust \
    cmake \
    winrar \
    unzip \
    vscode; \
    if ($LASTEXITCODE -ne 0) { exit $LASTEXITCODE }

# Default to PowerShell
CMD ["powershell", "-NoExit", "-Command", "$PSVersionTable"]